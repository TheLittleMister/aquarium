{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Aquarium School</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <link href="{% static 'courses/styles.css' %}" rel="stylesheet">
        <link href="{% static 'courses/logo.webp' %}" rel="icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Icons font CSS-->
        <link href="{% static 'vendor/mdi-font/css/material-design-iconic-font1.min.css' %}" rel="stylesheet" media="all">
        <link href="{% static 'vendor/font-awesome-4.7/css/font-awesome1.min.css' %}" rel="stylesheet" media="all">
        <!-- Font special for pages-->
        <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

        <!-- Vendor CSS-->
        <link href="{% static 'vendor/select2/select21.min.css' %}" rel="stylesheet" media="all">
        <link href="{% static 'vendor/datepicker/daterangepicker1.css' %}" rel="stylesheet" media="all">

        <!-- Main CSS-->
        <link href="{% static 'css/main1.css' %}" rel="stylesheet" media="all">


        <style id="styles_js">
            input[type='checkbox'] {
            -webkit-appearance:none;
            width:20px;
            height:20px;
            background:white;
            border-radius:5px;
            border:2px solid #555;
            }
            
            input[type='checkbox']:checked {
                background: #abd;
            }

            
        </style>

        <script>

            function addNewStyle(newStyle) {
                var styleElement = document.getElementById('styles_js');
                if (!styleElement) {
                    styleElement = document.createElement('style');
                    styleElement.type = 'text/css';
                    styleElement.id = 'styles_js';
                    document.getElementsByTagName('head')[0].appendChild(styleElement);
                }
                styleElement.appendChild(document.createTextNode(newStyle));
            }

            document.addEventListener("DOMContentLoaded", () => {
                 window.print();
            });

            function fontsize(value) {
                addNewStyle(`body * { font-size: ${value}px !important; }`);
            }

            function showbar() {

                element = document.querySelector("#bar");

                if (element.style.display === "none") {
                    element.style.display = "block";

                } else {
                    element.style.display = "none";
                }
                
            }

        </script>
    </head>
    <body>
        <div class="page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins">
            <div class="wrapper wrapper--w680">
                <div class="card card-4">
                    <div class="card-body">
                        <div class="row row-space">
                            <input style="display: none;" id="bar" type="range" value="" name="fz" min="10" max="30" onchange="fontsize(value)">
                            {% for course in courses|slice:":1" %}
                                <h3 style="width: 50%; float: left; margin-top: 30px;">{{ course.date|date:"l" }} {{ course.date }}</h3>
                            {% endfor %}
                            <div style="width: 50%; float: right;">
                                <img style="max-width: 100%; cursor: pointer;"src="{% static 'main/mainaq.webp' %}" onclick="showbar()">
                            </div>
                            
                        </div>
                        <br><hr><br> 
                        {% for course in courses %}
                        <h3> De {{course.start_time|date:"P"}} a {{course.end_time|date:"P"}}</h3>
                        <ol style="margin-top: 30px; font-size: x-large;">
                            {% for attendance in course.attendance.all %}
                                <li style="margin-bottom: 20px;">
                                    <h4>
                                        <input type="checkbox" style="margin-left: 10px;"> {{ attendance.student }}
                                        {% if attendance.recover == True %}
                                            <span style="color: blue; font-weight: bold;">• Recuperación</span>
                                        {% endif %}

                                        {% if attendance.onlyday == True %}
                                            <span style="color: blue; font-weight: bold;">• Solo el día</span>
                                        {% endif %}

                                        {% if attendance.student.courses.last == course %}
                                            <span style="color:crimson; font-weight: bold;">• Última Clase</span>
                                        {% endif %}

                                        {% if attendance.student.note %}
                                            <span style="font-weight: bold; font-style: italic;">• {{ attendance.student.note }}</span>
                                        {% endif %}
                                    </h4>
                                </li> 
                            {% endfor %}
                        </ol> <hr><br>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
